/* ============================================
   SISTEMA ETI v4.0 – VERFRUT
   Colores: Azul, Blanco, Rojo | Fuente: Tahoma
   ============================================ */
:root {
  --azul-deep:#003087;--azul-mid:#0050c8;--azul-bright:#1a6fd4;--azul-light:#d6e8ff;
  --rojo:#cc0000;--rojo-mid:#e02020;--rojo-light:#fce8e8;
  --blanco:#ffffff;--gris-bg:#f0f4f8;--gris-border:#c8d8e8;--gris-text:#5a6a7a;--gris-muted:#9aaabb;
  --gold:#e8b94a;--orange:#e07a2a;--orange-light:#fdf0e0;--green:#1a8040;--green-light:#d4f5e3;
  --shadow-sm:0 2px 8px rgba(0,48,135,.10);--shadow-md:0 4px 20px rgba(0,48,135,.14);--shadow-lg:0 8px 40px rgba(0,48,135,.18);
  --radius:10px;--radius-lg:16px;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:Tahoma,'Segoe UI',Geneva,Verdana,sans-serif;background:var(--gris-bg);color:#1a2a3a;min-height:100vh;font-size:13px}

/* ═══════════════════════════════════════
   LOGIN ELEGANTE
═══════════════════════════════════════ */
.login-page {
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  padding:20px;
  overflow:hidden;
  background:#001a55;
}
.login-bg-overlay {
  position:absolute;inset:0;
  background:linear-gradient(160deg,#001a55 0%,#003087 40%,#0050c8 75%,#8b0000 100%);
}
.login-bg-overlay::before {
  content:"";position:absolute;inset:0;
  background:
    radial-gradient(ellipse at 15% 50%,rgba(255,255,255,.06) 0%,transparent 55%),
    radial-gradient(ellipse at 85% 20%,rgba(204,0,0,.20) 0%,transparent 45%),
    radial-gradient(ellipse at 50% 90%,rgba(0,80,200,.15) 0%,transparent 50%);
}
/* Circulos decorativos de fondo */
.login-bg-overlay::after {
  content:"";position:absolute;
  width:600px;height:600px;
  border:1px solid rgba(255,255,255,.04);
  border-radius:50%;
  top:-100px;left:-150px;
}
.login-card {
  position:relative;z-index:1;
  width:100%;max-width:440px;
  background:rgba(255,255,255,.98);
  border-radius:20px;
  padding:0;
  box-shadow:0 30px 80px rgba(0,0,0,.5),0 0 0 1px rgba(255,255,255,.15);
  overflow:hidden;
}
/* Barra superior tricolor */
.login-card::before {
  content:"";
  display:block;
  height:5px;
  background:linear-gradient(90deg,var(--azul-deep) 0%,var(--azul-mid) 50%,var(--rojo) 100%);
}
.login-card-inner {
  padding:36px 40px 32px;
  text-align:center;
}
.login-logo-wrap {
  display:flex;justify-content:center;
  margin-bottom:6px;
}
.login-logo {
  height:75px;object-fit:contain;
  filter:drop-shadow(0 4px 14px rgba(0,48,135,.18));
}
.login-divider {
  width:50px;height:3px;
  background:linear-gradient(90deg,var(--azul-mid),var(--rojo));
  border-radius:2px;margin:14px auto 16px;
}
.login-title {
  font-size:20px;font-weight:700;
  color:var(--azul-deep);margin-bottom:4px;letter-spacing:.5px;
}
.login-sub {font-size:12px;color:var(--gris-text);margin-bottom:2px;}
.login-sub2 {font-size:11px;color:var(--gris-muted);margin-bottom:26px;}
.login-form {text-align:left;}
.login-group {margin-bottom:14px;}
.login-group label {
  display:block;font-size:10px;font-weight:700;
  color:var(--azul-deep);text-transform:uppercase;
  letter-spacing:1px;margin-bottom:7px;
}
.login-group input {
  width:100%;padding:12px 16px;
  border:2px solid #dde8f5;border-radius:10px;
  font-family:Tahoma,sans-serif;font-size:14px;
  outline:none;transition:all .2s;
  color:#1a2a3a;background:#f5f9ff;
}
.login-group input:focus {
  border-color:var(--azul-mid);background:white;
  box-shadow:0 0 0 4px rgba(0,80,200,.10);
}
.login-error {
  background:#fff0f0;color:var(--rojo);
  border:1.5px solid #ffc0c0;border-radius:8px;
  padding:10px 14px;font-size:12px;font-weight:700;
  margin-bottom:14px;text-align:center;
}
.btn-login {
  width:100%;padding:13px;
  background:linear-gradient(135deg,var(--azul-mid) 0%,var(--azul-deep) 100%);
  color:white;border:none;border-radius:10px;
  font-family:Tahoma,sans-serif;font-size:14px;font-weight:700;
  cursor:pointer;transition:all .25s;
  letter-spacing:1px;text-transform:uppercase;
  margin-top:6px;
  box-shadow:0 4px 18px rgba(0,80,200,.40);
}
.btn-login:hover {transform:translateY(-2px);box-shadow:0 8px 28px rgba(0,80,200,.50);}
.btn-login:active {transform:translateY(0);}
.login-footer-credit {
  margin-top:20px;font-size:11px;color:var(--gris-muted);
  border-top:1px solid #eef2f8;padding-top:14px;line-height:1.7;
}
.login-footer-credit strong {color:var(--azul-deep);display:block;font-size:12px;}

/* HEADER */
.site-header{background:linear-gradient(135deg,var(--azul-deep) 0%,var(--azul-mid) 70%,var(--rojo-mid) 100%);color:white;box-shadow:var(--shadow-md);position:sticky;top:0;z-index:100}
.header-inner{max-width:1400px;margin:auto;padding:12px 24px;display:flex;align-items:center;justify-content:space-between;gap:16px}
.header-brand{display:flex;align-items:center;gap:14px}
.header-logo{height:44px;object-fit:contain;filter:brightness(0) invert(1)}
.brand-title{display:block;font-weight:700;font-size:17px;letter-spacing:.3px}
.brand-sub{display:block;font-size:11px;opacity:.80;margin-top:2px}
.header-meta{display:flex;align-items:center;gap:10px;flex-shrink:0;flex-wrap:wrap}
.season-badge{padding:4px 12px;border-radius:20px;font-weight:700;font-size:11px;background:rgba(255,255,255,.18);border:1px solid rgba(255,255,255,.3);text-transform:uppercase;letter-spacing:1px}
.season-badge.alta{background:var(--gold);color:var(--azul-deep);border-color:var(--gold)}
.current-date{font-size:12px;opacity:.85;font-weight:600}
.user-badge{background:rgba(255,255,255,.20);border:1px solid rgba(255,255,255,.3);padding:4px 12px;border-radius:20px;font-size:12px;font-weight:700}
.btn-logout{background:var(--rojo);color:white;border:none;padding:6px 14px;border-radius:7px;font-family:Tahoma,sans-serif;font-size:12px;font-weight:700;cursor:pointer;transition:background .2s}
.btn-logout:hover{background:#aa0000}

/* TABS */
.tab-nav{background:white;border-bottom:3px solid var(--azul-light);display:flex;padding:0 24px;box-shadow:var(--shadow-sm)}
.tab-btn{padding:13px 20px;background:transparent;border:none;border-bottom:3px solid transparent;margin-bottom:-3px;font-family:Tahoma,sans-serif;font-weight:700;font-size:12px;color:var(--gris-text);cursor:pointer;transition:all .2s;white-space:nowrap;text-transform:uppercase;letter-spacing:.5px}
.tab-btn:hover{color:var(--azul-mid)}
.tab-btn.active{color:var(--azul-deep);border-bottom-color:var(--rojo)}

/* CONTENT */
.tab-content{display:none;padding:24px;max-width:1400px;margin:auto}
.tab-content.active{display:block}

/* KPI */
.kpi-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:14px;margin-bottom:20px}
.kpi-card{background:white;border-radius:var(--radius);padding:18px 16px;box-shadow:var(--shadow-sm);border-left:4px solid transparent;transition:transform .2s,box-shadow .2s}
.kpi-card:hover{transform:translateY(-3px);box-shadow:var(--shadow-md)}
.kpi-total{border-left-color:var(--azul-mid)}.kpi-cumplido{border-left-color:var(--green)}.kpi-proceso{border-left-color:var(--azul-bright)}.kpi-retraso{border-left-color:var(--rojo)}.kpi-pct{border-left-color:var(--gold)}
.kpi-value{font-weight:700;font-size:32px;line-height:1;margin-bottom:6px}
.kpi-label{font-size:11px;color:var(--gris-text);font-weight:700;text-transform:uppercase;letter-spacing:.5px}
.kpi-total .kpi-value{color:var(--azul-mid)}.kpi-cumplido .kpi-value{color:var(--green)}.kpi-proceso .kpi-value{color:var(--azul-bright)}.kpi-retraso .kpi-value{color:var(--rojo)}.kpi-pct .kpi-value{color:var(--gold)}

/* ALERTS */
.alerts-panel{background:white;border-radius:var(--radius);padding:18px;margin-bottom:20px;box-shadow:var(--shadow-sm)}
.panel-title{font-weight:700;font-size:13px;margin-bottom:12px;color:#1a2a3a}
.alert-item{display:flex;align-items:flex-start;gap:10px;padding:10px 14px;border-radius:7px;margin-bottom:8px;font-size:12px}
.alert-critico{background:var(--rojo-light);border-left:3px solid var(--rojo);color:#7a0000}
.alert-leve{background:var(--orange-light);border-left:3px solid var(--orange);color:#7a3a0d}
.alert-proceso{background:var(--azul-light);border-left:3px solid var(--azul-bright);color:#002a7a}
.alert-icon{font-size:15px;flex-shrink:0;margin-top:1px}
.alert-text strong{display:block;margin-bottom:2px}
.empty-msg{color:var(--gris-muted);font-style:italic;font-size:12px}

/* CHARTS */
.charts-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}
.chart-card{background:white;border-radius:var(--radius);padding:18px;box-shadow:var(--shadow-sm)}
.chart-title{font-weight:700;font-size:11px;margin-bottom:14px;text-transform:uppercase;letter-spacing:.5px;color:var(--azul-deep);border-bottom:2px solid var(--azul-light);padding-bottom:8px}
.chart-card canvas{max-height:220px}

/* FORM */
.form-wrapper{background:white;border-radius:var(--radius-lg);padding:28px;max-width:880px;margin:auto;box-shadow:var(--shadow-md)}
.form-heading{font-weight:700;font-size:18px;color:var(--azul-deep);margin-bottom:20px;padding-bottom:12px;border-bottom:3px solid var(--azul-light)}
.section-block{background:#f8fafd;border:1px solid var(--gris-border);border-radius:var(--radius);padding:18px;margin-bottom:16px}
.section-subtitle{font-weight:700;font-size:12px;color:var(--azul-mid);margin-bottom:14px;text-transform:uppercase;letter-spacing:.5px}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.form-group{display:flex;flex-direction:column;gap:5px}
.form-group.full-width{grid-column:1/-1}
.form-group label{font-size:11px;font-weight:700;color:var(--gris-text);text-transform:uppercase;letter-spacing:.5px}
.form-group input,.form-group textarea,.form-group select{padding:9px 12px;border:1.5px solid var(--gris-border);border-radius:7px;font-family:Tahoma,sans-serif;font-size:13px;color:#1a2a3a;background:white;transition:border-color .2s,box-shadow .2s;outline:none}
.form-group input:focus,.form-group textarea:focus,.form-group select:focus{border-color:var(--azul-bright);box-shadow:0 0 0 3px rgba(0,80,200,.10)}
.form-group small{font-size:11px;color:var(--gris-muted)}
.form-group textarea{resize:vertical}
.form-group select{cursor:pointer}
.input-readonly{background:#eef2f8!important;color:var(--gris-text)!important;cursor:not-allowed}
.input-highlight{background:#ddeeff!important;color:var(--azul-deep)!important;font-weight:700!important;font-size:15px!important}
.obs-required{color:var(--rojo);font-weight:700;font-size:12px}

/* RUTAS */
.rutas-opciones{display:flex;flex-direction:column;gap:8px;margin-top:8px}
.radio-option{display:flex;align-items:center;gap:10px;padding:10px 14px;border:1.5px solid var(--gris-border);border-radius:7px;cursor:pointer;transition:all .2s;background:white}
.radio-option:hover{border-color:var(--azul-bright);background:#f0f6ff}
.radio-option input[type="radio"]{accent-color:var(--azul-mid);width:15px;height:15px}
.radio-option span{font-weight:600;font-size:13px}
.ruta-item-row{display:grid;grid-template-columns:28px 1fr 2fr;gap:8px;align-items:center;padding:8px 12px;background:white;border:1px solid var(--gris-border);border-radius:7px;margin-bottom:6px}
.ruta-num{font-weight:700;color:var(--azul-mid);font-size:13px;text-align:center}
.ruta-item-row input{padding:7px 10px;border:1.5px solid var(--gris-border);border-radius:6px;font-size:12px;font-family:Tahoma,sans-serif;outline:none}
.ruta-item-row input:focus{border-color:var(--azul-bright)}
.ruta-header{display:grid;grid-template-columns:28px 1fr 2fr;gap:8px;padding:4px 12px;margin-bottom:4px}
.ruta-header span{font-size:10px;font-weight:700;color:var(--gris-muted);text-transform:uppercase;letter-spacing:.5px}
.rutas-varias-badge{background:var(--green-light);border:1.5px solid var(--green);color:var(--green);padding:10px 16px;border-radius:7px;font-weight:700;font-size:13px}

/* PREVIEW */
.preview-box{background:var(--azul-light);border:1.5px dashed var(--azul-bright);border-radius:var(--radius);padding:16px;margin-top:16px}
.preview-box h4{font-weight:700;font-size:12px;color:var(--azul-deep);margin-bottom:10px}
.preview-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:10px}
.preview-item{background:white;border-radius:7px;padding:10px}
.preview-item .p-label{font-size:10px;color:var(--gris-muted);text-transform:uppercase;margin-bottom:3px}
.preview-item .p-value{font-weight:700;font-size:14px;color:#1a2a3a}
.preview-item.highlight .p-value{color:var(--azul-mid)}

/* BUTTONS */
.form-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:20px;padding-top:16px;border-top:1px solid var(--gris-border)}
.btn{padding:9px 20px;border:none;border-radius:7px;font-family:Tahoma,sans-serif;font-weight:700;font-size:12px;cursor:pointer;transition:all .2s;letter-spacing:.3px;text-transform:uppercase}
.btn:hover{transform:translateY(-1px);box-shadow:var(--shadow-sm)}
.btn-primary{background:var(--azul-mid);color:white}.btn-primary:hover{background:var(--azul-deep)}
.btn-secondary{background:var(--gris-border);color:var(--gris-text)}
.btn-success{background:var(--green);color:white}.btn-success:hover{background:#116030}
.btn-danger{background:#fce8e8;color:var(--rojo)}.btn-danger:hover{background:var(--rojo);color:white}
.btn-icon{padding:5px 9px;font-size:12px;background:var(--gris-bg);color:var(--gris-text);border:1px solid var(--gris-border);border-radius:5px}
.btn-icon:hover{background:var(--azul-mid);color:white;border-color:var(--azul-mid)}

/* TABLE */
.table-wrapper{background:white;border-radius:var(--radius-lg);padding:22px;box-shadow:var(--shadow-md)}
.table-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:10px;margin-bottom:18px}
.table-toolbar .form-heading{margin-bottom:0;border:none;padding:0}
.toolbar-actions{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.search-input{padding:8px 12px;border:1.5px solid var(--gris-border);border-radius:7px;font-size:12px;font-family:Tahoma,sans-serif;outline:none;width:200px;transition:border-color .2s}
.search-input:focus{border-color:var(--azul-bright)}
.table-scroll{overflow-x:auto;border-radius:var(--radius);border:1px solid var(--gris-border)}
table{width:100%;border-collapse:collapse;font-size:12px}
thead{background:linear-gradient(135deg,var(--azul-deep),var(--azul-mid))}
thead th{color:white;font-weight:700;font-size:10px;text-transform:uppercase;letter-spacing:.5px;padding:11px 12px;text-align:left;white-space:nowrap}
tbody tr{border-bottom:1px solid var(--gris-border);transition:background .15s}
tbody tr:hover{background:#f0f6ff}
tbody tr:last-child{border-bottom:none}
tbody td{padding:10px 12px;vertical-align:middle}
.cell-muted{color:var(--gris-muted);font-style:italic}
.badge{display:inline-flex;align-items:center;gap:4px;padding:3px 9px;border-radius:20px;font-weight:700;font-size:10px;white-space:nowrap}
.badge-cumplido{background:var(--green-light);color:var(--green)}
.badge-proceso{background:var(--azul-light);color:var(--azul-deep)}
.badge-leve{background:var(--orange-light);color:#7a3a0d}
.badge-critico{background:var(--rojo-light);color:var(--rojo)}
.badge-alta{background:#fff0d0;color:#7a4d00}
.badge-baja{background:var(--azul-light);color:var(--azul-deep)}
.progress-wrap{display:flex;align-items:center;gap:6px;min-width:90px}
.progress-bar{flex:1;height:6px;background:var(--gris-border);border-radius:3px;overflow:hidden}
.progress-fill{height:100%;border-radius:3px;transition:width .4s}
.progress-pct{font-size:10px;font-weight:700;min-width:30px;text-align:right}
.fill-blue{background:var(--azul-bright)}.fill-orange{background:var(--orange)}.fill-red{background:var(--rojo)}

/* RANKING */
.ranking-wrapper{max-width:880px;margin:auto}
.ranking-desc{color:var(--gris-text);margin-bottom:22px;font-size:12px}
.ranking-card{background:white;border-radius:var(--radius);padding:16px 20px;margin-bottom:10px;box-shadow:var(--shadow-sm);display:grid;grid-template-columns:46px 1fr auto;align-items:center;gap:16px;transition:transform .2s}
.ranking-card:hover{transform:translateX(4px);box-shadow:var(--shadow-md)}
.ranking-pos{font-weight:700;font-size:20px;color:var(--gris-muted);text-align:center}
.ranking-pos.gold{color:#c8930a}.ranking-pos.silver{color:#888}.ranking-pos.bronze{color:#a0522d}
.ranking-info h4{font-weight:700;font-size:14px}
.ranking-info p{font-size:11px;color:var(--gris-text);margin-top:3px}
.ranking-pct{font-weight:700;font-size:22px;color:var(--azul-mid)}
.ranking-card.rank1{border-left:5px solid #c8930a}.ranking-card.rank2{border-left:5px solid #888}.ranking-card.rank3{border-left:5px solid #a0522d}

/* MODAL */
.modal-overlay{position:fixed;inset:0;background:rgba(0,48,135,.35);z-index:999;display:flex;align-items:center;justify-content:center;padding:20px}
.modal-box{background:white;border-radius:var(--radius-lg);padding:26px;max-width:680px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:var(--shadow-lg);animation:modalIn .2s ease;border-top:4px solid var(--azul-mid)}
@keyframes modalIn{from{opacity:0;transform:scale(.96) translateY(10px)}to{opacity:1;transform:scale(1) translateY(0)}}
.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
.modal-header h3{font-weight:700;font-size:16px;color:var(--azul-deep)}
.modal-close{background:var(--gris-bg);border:none;width:30px;height:30px;border-radius:5px;cursor:pointer;font-size:13px;color:var(--gris-text);transition:background .2s}
.modal-close:hover{background:var(--rojo-light);color:var(--rojo)}

/* FOOTER */
.site-footer{background:linear-gradient(135deg,var(--azul-deep),var(--azul-mid));color:rgba(255,255,255,.80);margin-top:40px}
.footer-inner{max-width:1400px;margin:auto;padding:18px 24px;display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:16px}
.footer-logo-wrap{display:flex;align-items:center}
.footer-logo{height:32px;object-fit:contain;filter:brightness(0) invert(1);opacity:.8}
.footer-center{text-align:center}
.footer-center strong{display:block;color:white;font-size:14px;font-weight:700;letter-spacing:.5px}
.footer-center span{font-size:11px;opacity:.75}
.footer-ver{font-size:10px;opacity:.55;text-align:right}

/* TOAST */
.toast{position:fixed;bottom:24px;right:24px;background:var(--azul-deep);color:white;padding:11px 18px;border-radius:8px;font-size:13px;font-weight:600;box-shadow:var(--shadow-lg);z-index:9999;animation:toastIn .3s ease;max-width:320px;border-left:4px solid var(--gold)}
.toast.error{background:var(--rojo);border-left-color:#ff6666}
.toast.warning{background:var(--orange);border-left-color:var(--gold)}
@keyframes toastIn{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}
.no-records{text-align:center;padding:36px;color:var(--gris-muted);font-style:italic}
.text-right{text-align:right}

@media(max-width:700px){
  .login-card-inner{padding:28px 24px 24px}
  .header-inner{padding:10px 14px}.tab-btn{padding:11px 10px;font-size:10px}.tab-content{padding:14px}
  .form-grid{grid-template-columns:1fr}.form-group.full-width{grid-column:auto}
  .charts-row{grid-template-columns:1fr}.table-toolbar{flex-direction:column;align-items:flex-start}
  .search-input{width:100%}.footer-inner{grid-template-columns:1fr;text-align:center}
  .footer-logo-wrap{justify-content:center}.footer-ver{text-align:center}
}
